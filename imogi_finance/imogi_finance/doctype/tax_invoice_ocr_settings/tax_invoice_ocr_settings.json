{
  "actions": [],
  "allow_rename": 0,
  "autoname": "prompt",
  "creation": "2024-01-01 00:00:00.000000",
  "default_view": "Form",
  "doctype": "DocType",
  "editable_grid": 0,
  "engine": "InnoDB",
  "field_order": [
    "section_ocr",
    "enable_tax_invoice_ocr",
    "ocr_provider",
    "google_vision_service_account_file",
    "google_vision_endpoint",
    "tesseract_cmd",
    "ocr_language",
    "ocr_max_pages",
    "ocr_min_confidence",
    "ocr_max_retry",
    "ocr_file_max_mb",
    "store_raw_ocr_json",
    "npwp_normalize",

    "section_verification",
    "block_duplicate_fp_no",

    "section_template_mapping",
    "ppn_template_mappings"
  ],
  "fields": [
    {
      "fieldname": "section_ocr",
      "fieldtype": "Section Break",
      "label": "OCR"
    },
    {
      "default": "0",
      "fieldname": "enable_tax_invoice_ocr",
      "fieldtype": "Check",
      "label": "Enable Tax Invoice OCR"
    },
    {
      "default": "Manual Only",
      "fieldname": "ocr_provider",
      "fieldtype": "Select",
      "label": "OCR Provider",
      "options": "Manual Only\nGoogle Vision\nTesseract"
    },
    {
      "description": "Upload service account JSON file for Google Vision (required unless ADC is configured).",
      "fieldname": "google_vision_service_account_file",
      "fieldtype": "Attach",
      "label": "Google Vision Service Account File",
      "depends_on": "eval:doc.ocr_provider==\"Google Vision\""
    },
    {
      "default": "https://vision.googleapis.com/v1/files:annotate",
      "description": "Endpoint for Google Vision File Annotate API (fixed to default unless explicitly overridden).",
      "fieldname": "google_vision_endpoint",
      "fieldtype": "Data",
      "label": "Google Vision Endpoint",
      "depends_on": "eval:doc.ocr_provider==\"Google Vision\""
    },
    {
      "description": "Executable/command path for Tesseract when provider is Tesseract.",
      "fieldname": "tesseract_cmd",
      "fieldtype": "Data",
      "label": "Tesseract Command",
      "depends_on": "eval:doc.ocr_provider==\"Tesseract\""
    },
    {
      "default": "id",
      "fieldname": "ocr_language",
      "fieldtype": "Data",
      "label": "OCR Language"
    },
    {
      "default": 2,
      "fieldname": "ocr_max_pages",
      "fieldtype": "Int",
      "label": "OCR Max Pages"
    },
    {
      "default": 0.85,
      "fieldname": "ocr_min_confidence",
      "fieldtype": "Float",
      "label": "OCR Minimum Confidence"
    },
    {
      "default": 1,
      "fieldname": "ocr_max_retry",
      "fieldtype": "Int",
      "label": "OCR Max Retry"
    },
    {
      "default": 10000,
      "fieldname": "ocr_file_max_mb",
      "fieldtype": "Int",
      "label": "OCR File Max (MB)"
    },
    {
      "default": "1",
      "fieldname": "store_raw_ocr_json",
      "fieldtype": "Check",
      "label": "Store Raw OCR JSON"
    },
    {
      "default": "1",
      "fieldname": "npwp_normalize",
      "fieldtype": "Check",
      "label": "Normalize NPWP"
    },

    {
      "fieldname": "section_verification",
      "fieldtype": "Section Break",
      "label": "Verification"
    },
    {
      "default": "1",
      "fieldname": "block_duplicate_fp_no",
      "fieldtype": "Check",
      "label": "Block Duplicate Tax Invoice No"
    },

    {
      "fieldname": "section_template_mapping",
      "fieldtype": "Section Break",
      "label": "üóÇÔ∏è PPN Template Mapping",
      "description": "Konfigurasi mapping PPN Type ‚Üí Purchase/Sales Tax Template. Digunakan untuk auto-suggest dan auto-copy template saat Tax Invoice OCR Upload di-sync ke Expense Request."
    },
    {
      "fieldname": "ppn_template_mappings",
      "fieldtype": "Table",
      "label": "PPN Template Mappings",
      "options": "Tax Invoice PPN Template Mapping",
      "description": "Tambahkan baris per PPN Type. Kosongkan kolom Company untuk global default. Baris per-company diprioritaskan."
    }
  ],
  "hide_toolbar": 0,
  "index_web_pages_for_search": 1,
  "issingle": 1,
  "links": [],
  "modified": "2024-01-01 00:00:00.000000",
  "modified_by": "Administrator",
  "module": "Imogi Finance",
  "name": "Tax Invoice OCR Settings",
  "owner": "Administrator",
  "permissions": [
    {
      "create": 1,
      "delete": 1,
      "email": 1,
      "export": 1,
      "print": 1,
      "read": 1,
      "report": 1,
      "role": "System Manager",
      "share": 1,
      "write": 1
    }
  ],
  "show_name_in_global_search": 0,
  "sort_field": "modified",
  "sort_order": "DESC"
}
